<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TENNIS CD9 2026</title>

<style>
body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
  background:#f4f4f4;
}
header{
  background:#000;
  color:#fff;
  text-align:center;
  padding:14px;
  font-weight:bold;
  letter-spacing:1px;
}
nav{
  display:flex;
  background:#111;
}
nav button{
  flex:1;
  padding:12px;
  border:none;
  background:#111;
  color:#fff;
  font-size:14px;
}
nav button.active{
  background:#fff;
  color:#000;
  font-weight:bold;
}
section{
  display:none;
  padding:10px;
}
section.active{
  display:block;
}
h2{
  text-align:center;
  margin:10px 0;
}
.table-wrap{
  overflow-x:auto;
}
table{
  width:100%;
  border-collapse:collapse;
  background:#fff;
}
th,td{
  border:1px solid #ddd;
  padding:8px;
  text-align:center;
  font-size:14px;
}
th{
  background:#eaeaea;
  font-weight:bold;
}
.green{background:#57b657;color:#fff;}
.yellow{background:#fff59d;}
.blue{background:#4dd0e1;}
.result-win{color:green;font-weight:bold;}
.result-lose{color:red;font-weight:bold;}
select{
  padding:6px;
  font-size:14px;
}
@media(max-width:600px){
  th,td{font-size:12px;padding:6px;}
}
</style>
</head>

<body>

<header>TENNIS ƒê·ªäNH M·ªÜNH CD9 2026</header>

<nav>
  <button class="active" onclick="showTab('BXH')">BXH</button>
  <button onclick="showTab('MATCHES')">MATCHES</button>
  <button onclick="showTab('TEAMS')">TEAMS</button>
  <button onclick="showTab('PAIRS')">PAIRS</button>
  <button onclick="showTab('CHECK')">CHECK</button>
</nav>

<section id="BXH" class="active">
  <h2>üèÜ B·∫¢NG X·∫æP H·∫†NG</h2>
  <div class="table-wrap"><table id="bxh"></table></div>
</section>

<section id="MATCHES">
  <h2>CHI TI·∫æT K·∫æT QU·∫¢ T·ª™NG TR·∫¨N</h2>
  <div class="table-wrap"><table id="matches"></table></div>
</section>

<section id="TEAMS">
  <h2>DANH S√ÅCH ƒê·ªòI</h2>
  <div class="table-wrap"><table id="teams"></table></div>
</section>

<section id="PAIRS">
  <h2>DANH S√ÅCH C·∫∂P ƒê·∫§U</h2>
  <div class="table-wrap"><table id="pairs"></table></div>
</section>

<section id="CHECK">
  <h2>TRA C·ª®U THEO ƒê·ªòI</h2>
  <select id="teamSelect"></select>
  <div class="table-wrap"><table id="check"></table></div>
</section>

<script>
const SHEET_ID = "1pak2Yy4rZ3U50rYj2rlfCOkqyDDpnOns";

const sheets = {
  BXH: "BXH",
  MATCHES: "MATCHES",
  TEAMS: "TEAMS",
  PAIRS: "PAIRS",
  CHECK: "CHECK"
};

function csvURL(sheet){
  return `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:csv&sheet=${sheet}`;
}

function loadTable(sheet, tableId){
  fetch(csvURL(sheet))
  .then(r=>r.text())
  .then(t=>{
    const rows=t.trim().split("\n").map(r=>r.split(",").map(c=>c.replace(/\"/g,"")));
    let html="<tr>"+rows[0].map(h=>`<th>${h}</th>`).join("")+"</tr>";
    rows.slice(1).forEach(r=>{
      html+="<tr>"+r.map(c=>`<td>${c}</td>`).join("")+"</tr>";
    });
    document.getElementById(tableId).innerHTML=html;
  });
}

function showTab(id){
  document.querySelectorAll("nav button").forEach(b=>b.classList.remove("active"));
  event.target.classList.add("active");
  document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

loadTable("BXH","bxh");
loadTable("MATCHES","matches");
loadTable("TEAMS","teams");
loadTable("PAIRS","pairs");

fetch(csvURL("TEAMS"))
.then(r=>r.text())
.then(t=>{
  const rows=t.trim().split("\n").slice(1);
  const sel=document.getElementById("teamSelect");
  rows.forEach(r=>{
    const v=r.replace(/\"/g,"").split(",")[0];
    sel.innerHTML+=`<option>${v}</option>`;
  });
});

document.getElementById("teamSelect").addEventListener("change",e=>{
  const team=e.target.value;
  fetch(csvURL("MATCHES"))
  .then(r=>r.text())
  .then(t=>{
    const rows=t.trim().split("\n").map(r=>r.replace(/\"/g,"").split(","));
    let html="<tr>"+rows[0].map(h=>`<th>${h}</th>`).join("")+"</tr>";
    rows.slice(1).filter(r=>r.includes(team)).forEach(r=>{
      html+="<tr>"+r.map(c=>`<td>${c}</td>`).join("")+"</tr>";
    });
    document.getElementById("check").innerHTML=html;
  });
});
</script>

</body>
</html>
